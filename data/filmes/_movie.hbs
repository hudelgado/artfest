<html lang="pt">
<head>
  <meta charset="utf-8">
  <title>{{name}}</title>
  <link rel="canonical" href="https://www.artfestpatrimonios.pt/detalhes/filme/{{slug}}">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Movie",
    "id": "https://www.artfestpatrimonios.pt/detalhes/filme/{{slug}}",
    "productionCompany": {
      "@type": "Organization",
      "name": "{{production_company}}"
    },
    "countryOfOrigin": {
      "@type": "Country",
      "name": "Portugal"
    },
    "director": "{{director}}",
    "dateCreated": "{{date_created}}",
    "datePublished": "{{date_published}}",
    "name": "{{name}}",
    "headline": "{{headline}}",
    "description": "{{joinMovieDesc description}}",
    "image": {{{getImagesObj images}}},
    "trailer": {
      "@type": "VideoObject",
      "name": "{{videos.trailer.name}}",
      "description": "{{videos.trailer.description}}",
      "embedUrl": "{{{videos.trailer.url}}}",
      "thumbnailUrl": "{{{buildUrl videos.trailer.thumbnail_url}}}",
      "uploadDate": "{{{videos.trailer.upload_date}}}"
    }
  }
  </script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">
  <link rel="stylesheet" href="../../bower_components/bulma-carousel/dist/bulma-carousel.min.css">
  <script defer type="text/javascript" src="/bower_components/bulma-carousel/dist/bulma-carousel.min.js"></script>

<script>
var bulmaCarousel=function(){'use strict';class a{constructor(a){if(this._clickEvent='ontouchstart'in window?'touchstart':'click',this.element='string'==typeof a?document.querySelector(a):a,!this.element)throw new Error('An invalid selector or non-DOM node has been provided.');this.init()}init(){this.items=Array.from(this.element.querySelectorAll('.carousel-item')),this.items.forEach((a)=>{let b=a.querySelector('img');b.setAttribute('draggable',!1)}),this.computedStyle=window.getComputedStyle(this.element),this.previousControl=this.element.querySelector('.carousel-nav-left'),this.nextControl=this.element.querySelector('.carousel-nav-right'),this._bindEvents(),this._initOrder(),this.element.dataset.autoplay&&'true'==this.element.dataset.autoplay&&this._autoPlay(this.element.dataset.delay||5e3)}_bindEvents(){this.previousControl&&this.previousControl.addEventListener(this._clickEvent,(a)=>{a.preventDefault(),this._slide('previous'),this._autoPlayInterval&&(clearInterval(this._autoPlayInterval),this._autoPlay(this.element.dataset.delay||5e3))},!1),this.nextControl&&this.nextControl.addEventListener(this._clickEvent,(a)=>{a.preventDefault(),this._slide('next'),this._autoPlayInterval&&(clearInterval(this._autoPlayInterval),this._autoPlay(this.element.dataset.delay||5e3))},!1),this.element.addEventListener('touchstart',(a)=>{this._swipeStart(a)}),this.element.addEventListener('mousedown',(a)=>{this._swipeStart(a)}),this.element.addEventListener('touchend',(a)=>{this._swipeEnd(a)}),this.element.addEventListener('mouseup',(a)=>{this._swipeEnd(a)})}_initOrder(){const a=this.element.querySelector('.carousel-item.is-active'),b=this.items.indexOf(a);b?this.items.push(this.items.splice(0,b)):this.items.unshift(this.items.pop()),this._setOrder()}_setOrder(){this.items.forEach((a,b)=>{a.style['z-index']=1===b?'1':'0',a.style.order=b})}_swipeStart(a){this._touch={start:{x:a.clientX,y:a.clientY},end:{x:a.clientX,y:a.clientY}}}_swipeEnd(a){this._touch.end={x:a.clientX,y:a.clientY},this._handleGesture()}_handleGesture(){const a={horizontal:(this._touch.end.x-this._touch.start.x)/parseInt(this.computedStyle.getPropertyValue('width')),vertical:(this._touch.end.y-this._touch.start.y)/parseInt(this.computedStyle.getPropertyValue('height'))};a.horizontal>a.vertical&&.25<a.horizontal&&this._slide('previous'),a.horizontal<a.vertical&&-.25>a.horizontal&&this._slide('next')}_slide(a='next'){if(this.items.length){const b=this.element.querySelector('.carousel-item.is-active');let c;b.classList.remove('is-active'),'previous'===a?(this.items.unshift(this.items.pop()),this.element.classList.add('is-reversing')):(this.items.push(this.items.shift()),this.element.classList.remove('is-reversing')),c=1<=this.items.length?this.items[1]:this.items[0],c.classList.add('is-active'),this._setOrder(),this.element.classList.toggle('carousel-animated'),setTimeout(()=>{this.element.classList.toggle('carousel-animated')},50)}}_autoPlay(a=5e3){this._autoPlayInterval=setInterval(()=>{this._slide('next')},a)}}return document.addEventListener('DOMContentLoaded',function(){var b=document.querySelectorAll('.carousel, .hero-carousel');[].forEach.call(b,function(b){new a(b)})}),a}();
</script>

  <style>
    :host {
      display: block;
    }

    .main-title {
      text-align: center;
    }

    .content-wrap {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .content-wrap .content-image {
      width: 300px;
      margin: auto;
      text-align: center;
    }

    .contentWrapper {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 */
      padding-top: 25px;
      height: 0;
    }
    .contentWrapper iframe,
    .contentWrapper .carousel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

  </style>
</head>

<body>
  <div class="main-title title is-1">{{name}}</div>
  <div class="content-wrap">
    {{#images.featured}}
    <div class="content-image">
      <img src="{{{buildUrl .}}}" />
    </div>
    {{/images.featured}}
    <div class="content-descriptor">
      <div class="description">{{{getMovieDescInHTML description}}}</div>
      {{#videos.trailer}}
      <section class="section">
        <div class="content contentWrapper">
          <iframe 
            src="https://player.vimeo.com/video/{{getVimeoVideoID url}}"
            frameborder="0"
            width= "16"
            height= "9"
            webkitallowfullscreen mozallowfullscreen allowfullscreen
            >
          </iframe>
        </div>
      </section>
      {{/videos.trailer}}
    </div>
  </div>

  {{#if images.filmagens}}
  <section class="section">
    <div class="container">
      <h1 class="title is-3">Filmagens</h1>
    </div>
  </section>
  <section class="section">
    <div class="content contentWrapper">
      <div class='carousel carousel-animated carousel-animate-slide' data-autoplay="true">
        <div class='carousel-container'>
          {{#images.filmagens}}
          <div class='carousel-item has-background is-active'>
            <img class="is-background" src="/{{{.}}}"/>
            {{#if caption}}
            <div class="title">{{caption}}</div>
            {{/if}}
          </div>
          {{/images.filmagens}}
      </div>
    </div>
  </section>
  {{/if}}

  {{#if images.estreia}}
  <section class="section">
    <div class="container">
      <h1 class="title is-3">Estreia</h1>
    </div>
  </section>
  <section class="section">
    <div class="content contentWrapper">
      <div class='carousel carousel-animated carousel-animate-slide' data-autoplay="true">
        <div class='carousel-container'>
          {{#images.estreia}}
          <div class='carousel-item has-background is-active'>
            <img class="is-background" src="/{{{.}}}" alt="" />
            {{#if caption}}
            <div class="title">{{caption}}</div>
            {{/if}}
          </div>
          {{/images.estreia}}
      </div>
    </div>
  </section>
  {{/if}}

</body>

</html>