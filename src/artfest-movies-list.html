<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">

<dom-module id="artfest-movies-list">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        padding: 1em;
      }
      a.full-width {
        padding: 0;
      }
      a.full-width img {
        width: 100%;
      }
      h1 .title {
        margin-left: 1em;
        color: var(--app-color-movies);
      }
      a.tile.card {
        background-color: white;
        border-bottom: 5px solid var(--app-color-movies);
      }
      @media (max-width: 686px) {
        :host {
          padding: 0;
        }
      }
    </style>

    <h1 class="title is-2">Filmes</h1>
    <div class="tile is-ancestor">
      <div class="tile is-parent is-vertical">
        <a class="tile is-child notification full-width card" href="[[rootPath]]detalhes/filme/[[movies.0.slug]]">
          <article>
            <img src="[[__getMovieImageUrl(movies.0)]]" />
          </article>
        </a>
        <a class="tile is-child notification is-primary card" href="[[rootPath]]detalhes/filme/[[movies.2.slug]]">
          <article>
            <p class="title">[[movies.2.name]]</p>
            <p class="subtitle">[[movies.2.title]]</p>
            <div class="content">[[__getMovieDescription(movies.2.description)]]</div>
          </article>
        </a>
      </div>
      <div class="tile is-vertical is-8">
        <div class="tile">
          <div class="tile is-parent">
            <a class="tile is-child notification is-info card" href="[[rootPath]]detalhes/filme/[[movies.1.slug]]">
              <article>
                <p class="title">[[movies.1.name]]</p>
                <p class="subtitle">[[movies.1.title]]</p>
                <div class="content">[[__getMovieDescription(movies.1.description)]]</div>
              </article>
            </a>
          </div>
          <div class="tile is-parent is-vertical">
            <a class="tile is-child notification is-warning card" href="[[rootPath]]detalhes/filme/[[movies.3.slug]]">
              <article>
                <p class="title">[[movies.3.name]]</p>
                <p class="subtitle">[[movies.3.title]]</p>
                <div class="content">[[__getMovieDescription(movies.3.description)]]</div>
              </article>
            </a>
          </div>
        </div>
        <div class="tile is-parent">
          <a class="tile is-child notification is-danger card" href="[[rootPath]]detalhes/filme/[[movies.4.slug]]">
            <article>
              <p class="title">[[movies.4.name]]</p>
              <p class="subtitle">[[movies.4.title]]</p>
              <div class="content">[[__getMovieDescription(movies.4.description)]]</div>
            </article>
          </a>
        </div>
      </div>
    </div>
  </template>

  <script>
    class ArtfestMoviesList extends Polymer.Element {
      static get is() { return 'artfest-movies-list'; }
      static get properties() {
        return {
          movies: Array
        }
      }
      __getMovieImageUrl(movie) {
        return movie && movie.images && movie.images.featured ? movie.images.featured: '';
      }
      __getMovieDescription(description, index) {
        return description;
      }
    }

    window.customElements.define(ArtfestMoviesList.is, ArtfestMoviesList);
  </script>
</dom-module>